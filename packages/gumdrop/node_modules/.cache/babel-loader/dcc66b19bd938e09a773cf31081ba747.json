{"ast":null,"code":"import _objectSpread from\"/home/haeun/metaplex/js/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/haeun/metaplex/js/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/home/haeun/metaplex/js/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/home/haeun/metaplex/js/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{useWallet}from'@solana/wallet-adapter-react';import{ENDPOINTS,useColorMode,useConnectionConfig}from'../../contexts';import{notify,shortenAddress}from'@oyster/common';import{CopyOutlined}from'@ant-design/icons';import{ModalEnum,useModal,useWalletModal}from'../../contexts';import{Box,Button,Collapse,Divider,Drawer,FormControl,Link,List,ListItem,ListItemText,ListItemButton,MenuItem,Select,Stack}from'@mui/material';import{useTheme}from'@mui/material/styles';import AccountBalanceWalletIcon from'@mui/icons-material/AccountBalanceWallet';import Brightness4Icon from'@mui/icons-material/Brightness4';import Brightness7Icon from'@mui/icons-material/Brightness7';import ExpandLess from'@mui/icons-material/ExpandLess';import ExpandMore from'@mui/icons-material/ExpandMore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Settings=function Settings(_ref){var narrow=_ref.narrow;var _useWallet=useWallet(),disconnect=_useWallet.disconnect,publicKey=_useWallet.publicKey;var _useConnectionConfig=useConnectionConfig(),setEndpoint=_useConnectionConfig.setEndpoint,env=_useConnectionConfig.env,endpoint=_useConnectionConfig.endpoint;var _useWalletModal=useWalletModal(),setVisible=_useWalletModal.setVisible;var open=React.useCallback(function(){return setVisible(true);},[setVisible]);var _useModal=useModal(),setModal=_useModal.setModal;var theme=useTheme();var colorModeCtx=useColorMode();var handleConnect=React.useCallback(function(){setModal(ModalEnum.WALLET);setVisible(true);},[setModal,setVisible]);var connectedActions=[{click:function(){var _click=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!publicKey){_context.next=4;break;}_context.next=3;return navigator.clipboard.writeText(publicKey.toBase58());case 3:notify({message:'Wallet update',description:'Address copied to clipboard'});case 4:case\"end\":return _context.stop();}}},_callee);}));function click(){return _click.apply(this,arguments);}return click;}(),innerNarrow:function innerNarrow(){return\"Copy Address (\".concat(publicKey&&shortenAddress(publicKey.toBase58()),\")\");},inner:function ConnectedWalletCopyC(){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(CopyOutlined,{}),publicKey&&shortenAddress(publicKey.toBase58())]});}},{click:open,inner:function inner(){return\"Change\\xA0Wallet\";}},{click:function click(){return disconnect().catch();},inner:function inner(){return\"Disconnect\\xA0(\".concat(env,\")\");},expandedExtra:{// these are interepreted as props. TODO: specific types\ncolor:'error',variant:'contained'}}];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),drawerOpen=_React$useState2[0],setDrawerOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),envCollapseOpen=_React$useState4[0],setEnvCollapseOpen=_React$useState4[1];var hackySkipSet='hackySkipSet';var toggleDrawer=function toggleDrawer(open){return function(event){if(event.type==='keydown'&&(event.key==='Tab'||event.key==='Shift')){return;}if(event.target.classList.contains(hackySkipSet)){return;}setDrawerOpen(open);};};var drawerC=function drawerC(inner){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Button,{onClick:toggleDrawer(true),children:/*#__PURE__*/_jsx(AccountBalanceWalletIcon,{})}),/*#__PURE__*/_jsx(Drawer,{anchor:\"right\",open:drawerOpen,onClose:toggleDrawer(false),children:/*#__PURE__*/_jsx(Box,{sx:{width:250},role:\"presentation\",onClick:toggleDrawer(false),onKeyDown:toggleDrawer(false),children:inner})})]});};var themeSwitch=/*#__PURE__*/_jsx(Button,{sx:{ml:1},onClick:colorModeCtx.toggleColorMode,color:\"inherit\",children:theme.palette.mode==='dark'?/*#__PURE__*/_jsx(Brightness7Icon,{}):/*#__PURE__*/_jsx(Brightness4Icon,{})});if(narrow){var listHead=/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Wallet\",primaryTypographyProps:{fontSize:'1.2rem',fontWeight:'medium',letterSpacing:0}})});return/*#__PURE__*/_jsxs(React.Fragment,{children:[!publicKey&&drawerC(/*#__PURE__*/_jsxs(List,{children:[listHead,/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(ListItemButton,{onClick:function onClick(){return setEnvCollapseOpen(!envCollapseOpen);},className:hackySkipSet,children:[\"Change Network\",envCollapseOpen?/*#__PURE__*/_jsx(ExpandLess,{}):/*#__PURE__*/_jsx(ExpandMore,{})]}),/*#__PURE__*/_jsx(Collapse,{in:envCollapseOpen,timeout:\"auto\",unmountOnExit:true,children:/*#__PURE__*/_jsx(List,{component:\"div\",disablePadding:true,children:ENDPOINTS.map(function(p){return/*#__PURE__*/_jsx(ListItemButton,{selected:endpoint===p.endpoint,onClick:function onClick(){return setEndpoint(p.endpoint);},sx:{pl:4},className:hackySkipSet,children:p.name},p.name);})})}),/*#__PURE__*/_jsx(ListItemButton,{onClick:handleConnect,children:\"Connect\"})]})),publicKey&&drawerC(/*#__PURE__*/_jsxs(List,{children:[listHead,/*#__PURE__*/_jsx(Divider,{}),connectedActions.map(function(a,idx){return/*#__PURE__*/_jsx(ListItemButton,{onClick:a.click,children:a.innerNarrow&&a.innerNarrow()||a.inner()},idx);})]})),themeSwitch]});}else{return/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:2,sx:{display:'flex',justifyContent:'flex-end',alignItems:'center',marginRight:'36px'},children:[!publicKey&&/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(FormControl,{variant:\"standard\",style:{minWidth:'10ch'},children:/*#__PURE__*/_jsx(Select,{id:\"connected-env-select\",onChange:function onChange(e){setEndpoint(e.target.value);},value:endpoint,children:ENDPOINTS.map(function(_ref2){var name=_ref2.name,endpoint=_ref2.endpoint;return/*#__PURE__*/_jsx(MenuItem,{value:endpoint,children:name},name);})})}),/*#__PURE__*/_jsx(Link,{underline:\"none\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleConnect,children:\"Connect\"})})]}),publicKey&&connectedActions.map(function(a,idx){return/*#__PURE__*/_jsx(Button,_objectSpread(_objectSpread({variant:\"outlined\",onClick:a.click},a.expandedExtra),{},{children:a.inner()}),idx);}),themeSwitch]});}};","map":{"version":3,"sources":["/home/haeun/metaplex/js/packages/gumdrop/src/components/Settings/index.tsx"],"names":["React","useWallet","ENDPOINTS","useColorMode","useConnectionConfig","notify","shortenAddress","CopyOutlined","ModalEnum","useModal","useWalletModal","Box","Button","Collapse","Divider","Drawer","FormControl","Link","List","ListItem","ListItemText","ListItemButton","MenuItem","Select","Stack","useTheme","AccountBalanceWalletIcon","Brightness4Icon","Brightness7Icon","ExpandLess","ExpandMore","Settings","narrow","disconnect","publicKey","setEndpoint","env","endpoint","setVisible","open","useCallback","setModal","theme","colorModeCtx","handleConnect","WALLET","connectedActions","click","navigator","clipboard","writeText","toBase58","message","description","innerNarrow","inner","ConnectedWalletCopyC","catch","expandedExtra","color","variant","useState","drawerOpen","setDrawerOpen","envCollapseOpen","setEnvCollapseOpen","hackySkipSet","toggleDrawer","event","type","key","target","classList","contains","drawerC","width","themeSwitch","ml","toggleColorMode","palette","mode","listHead","fontSize","fontWeight","letterSpacing","map","p","pl","name","a","idx","display","justifyContent","alignItems","marginRight","minWidth","e","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport { ENDPOINTS, useColorMode, useConnectionConfig } from '../../contexts';\nimport { notify, shortenAddress } from '@oyster/common';\nimport { CopyOutlined } from '@ant-design/icons';\nimport { ModalEnum, useModal, useWalletModal } from '../../contexts';\nimport {\n  Box,\n  Button,\n  Collapse,\n  Divider,\n  Drawer,\n  FormControl,\n  Link,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemButton,\n  MenuItem,\n  Select,\n  Stack,\n} from '@mui/material';\nimport { useTheme } from '@mui/material/styles';\n\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet';\nimport Brightness4Icon from '@mui/icons-material/Brightness4';\nimport Brightness7Icon from '@mui/icons-material/Brightness7';\nimport ExpandLess from '@mui/icons-material/ExpandLess';\nimport ExpandMore from '@mui/icons-material/ExpandMore';\n\nexport const Settings = ({ narrow }: { narrow: boolean }) => {\n  const { disconnect, publicKey } = useWallet();\n  const { setEndpoint, env, endpoint } = useConnectionConfig();\n  const { setVisible } = useWalletModal();\n  const open = React.useCallback(() => setVisible(true), [setVisible]);\n  const { setModal } = useModal();\n  const theme = useTheme();\n  const colorModeCtx = useColorMode();\n\n  const handleConnect = React.useCallback(() => {\n    setModal(ModalEnum.WALLET);\n    setVisible(true);\n  }, [setModal, setVisible]);\n\n  const connectedActions = [\n    {\n      click: async () => {\n        if (publicKey) {\n          await navigator.clipboard.writeText(publicKey.toBase58());\n          notify({\n            message: 'Wallet update',\n            description: 'Address copied to clipboard',\n          });\n        }\n      },\n      innerNarrow: () =>\n        `Copy Address (${publicKey && shortenAddress(publicKey.toBase58())})`,\n      inner: function ConnectedWalletCopyC() {\n        return (\n          <React.Fragment>\n            <CopyOutlined />\n            {publicKey && shortenAddress(publicKey.toBase58())}\n          </React.Fragment>\n        );\n      },\n    },\n    {\n      click: open,\n      inner: () => 'Change\\u00A0Wallet',\n    },\n    {\n      click: () => disconnect().catch(),\n      inner: () => `Disconnect\\u00A0(${env})`,\n      expandedExtra: {\n        // these are interepreted as props. TODO: specific types\n        color: 'error' as any,\n        variant: 'contained' as any,\n      },\n    },\n  ];\n\n  const [drawerOpen, setDrawerOpen] = React.useState(false);\n  const [envCollapseOpen, setEnvCollapseOpen] = React.useState(false);\n\n  const hackySkipSet = 'hackySkipSet';\n  const toggleDrawer = open => event => {\n    if (\n      event.type === 'keydown' &&\n      (event.key === 'Tab' || event.key === 'Shift')\n    ) {\n      return;\n    }\n\n    if (event.target.classList.contains(hackySkipSet)) {\n      return;\n    }\n\n    setDrawerOpen(open);\n  };\n\n  const drawerC = inner => {\n    return (\n      <React.Fragment>\n        <Button onClick={toggleDrawer(true)}>\n          <AccountBalanceWalletIcon />\n        </Button>\n        <Drawer anchor=\"right\" open={drawerOpen} onClose={toggleDrawer(false)}>\n          <Box\n            sx={{ width: 250 }}\n            role=\"presentation\"\n            onClick={toggleDrawer(false)}\n            onKeyDown={toggleDrawer(false)}\n          >\n            {inner}\n          </Box>\n        </Drawer>\n      </React.Fragment>\n    );\n  };\n\n  const themeSwitch = (\n    <Button\n      sx={{ ml: 1 }}\n      onClick={colorModeCtx.toggleColorMode}\n      color=\"inherit\"\n    >\n      {theme.palette.mode === 'dark' ? (\n        <Brightness7Icon />\n      ) : (\n        <Brightness4Icon />\n      )}\n    </Button>\n  );\n\n  if (narrow) {\n    const listHead = (\n      <ListItem>\n        <ListItemText\n          primary=\"Wallet\"\n          primaryTypographyProps={{\n            fontSize: '1.2rem',\n            fontWeight: 'medium',\n            letterSpacing: 0,\n          }}\n        />\n      </ListItem>\n    );\n    return (\n      <React.Fragment>\n        {!publicKey &&\n          drawerC(\n            <List>\n              {listHead}\n              <Divider />\n              <ListItemButton\n                onClick={() => setEnvCollapseOpen(!envCollapseOpen)}\n                className={hackySkipSet}\n              >\n                Change Network\n                {envCollapseOpen ? <ExpandLess /> : <ExpandMore />}\n              </ListItemButton>\n              <Collapse in={envCollapseOpen} timeout=\"auto\" unmountOnExit>\n                <List component=\"div\" disablePadding>\n                  {ENDPOINTS.map(p => (\n                    <ListItemButton\n                      selected={endpoint === p.endpoint}\n                      onClick={() => setEndpoint(p.endpoint)}\n                      key={p.name}\n                      sx={{ pl: 4 }}\n                      className={hackySkipSet}\n                    >\n                      {p.name}\n                    </ListItemButton>\n                  ))}\n                </List>\n              </Collapse>\n              <ListItemButton onClick={handleConnect}>Connect</ListItemButton>\n            </List>,\n          )}\n        {publicKey &&\n          drawerC(\n            <List>\n              {listHead}\n              <Divider />\n              {connectedActions.map((a, idx) => {\n                return (\n                  <ListItemButton onClick={a.click} key={idx}>\n                    {(a.innerNarrow && a.innerNarrow()) || a.inner()}\n                  </ListItemButton>\n                );\n              })}\n            </List>,\n          )}\n        {themeSwitch}\n      </React.Fragment>\n    );\n  } else {\n    return (\n      <Stack\n        direction=\"row\"\n        spacing={2}\n        sx={{\n          display: 'flex',\n          justifyContent: 'flex-end',\n          alignItems: 'center',\n          marginRight: '36px',\n        }}\n      >\n        {!publicKey && (\n          <React.Fragment>\n            <FormControl variant=\"standard\" style={{ minWidth: '10ch' }}>\n              <Select\n                id=\"connected-env-select\"\n                onChange={e => {\n                  setEndpoint(e.target.value);\n                }}\n                value={endpoint}\n              >\n                {ENDPOINTS.map(({ name, endpoint }) => (\n                  <MenuItem key={name} value={endpoint}>\n                    {name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <Link underline=\"none\">\n              <Button variant=\"contained\" onClick={handleConnect}>\n                Connect\n              </Button>\n            </Link>\n          </React.Fragment>\n        )}\n        {publicKey &&\n          connectedActions.map((a, idx) => {\n            return (\n              <Button\n                key={idx}\n                variant=\"outlined\"\n                onClick={a.click}\n                {...a.expandedExtra}\n              >\n                {a.inner()}\n              </Button>\n            );\n          })}\n        {themeSwitch}\n      </Stack>\n    );\n  }\n};\n"]},"metadata":{},"sourceType":"module"}